{{- define "main" }}
  {{- $pages := union .RegularPages .Sections }}
  {{- $paginator := .Paginate $pages }}

  {{- $term := .Data.Term }}

  {{- $authors := $.Site.Data.authors }}

  {{- range $index,
    $page := $paginator.Pages
  }}
    <article class="my-2 p-3 rounded-lg hover:bg-gray-200">
      <div class="block">
        <img
          src="{{ index $authors .Params.author "imageUrl" }}"
          class="w-32 p-3 rounded"
          alt="..."
        />
        <h2 class="text-2xl">
          {{- .Title }}
          {{- if .Draft }}
            <sup><span class="">&nbsp;&nbsp;[draft]</span></sup>
          {{- end }}
        </h2>
      </div>
      {{- if (ne (.Param "hideSummary") true) }}
        <div class="">
          <p>
            {{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}
              ...
            {{ end }}
          </p>
        </div>
      {{- end }}
      <a
        class=""
        aria-label="post link to {{ .Title | plainify }}"
        href="{{ .Permalink }}"
      ></a>
    </article>
  {{- end }}
{{- end }}{{- /* end main */ -}}
